---
import PageLayout from '@/layouts/Base'
import BlogPostPreview from '@/components/BlogPostPreview'
import SocialList from '@/components/SocialList'
import { sortMDByDate } from '@/util'
import type { Post } from '@/types'

const meta = {
  title: 'Spencer',
  description: "Spencer's personal website",
}

const MAX_POSTS = 5
const allPosts = await Astro.glob<Post>('./papers/*.mdx')
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS)
---

<PageLayout meta={meta}>
  <section>
    <h1 class="mb-6 title">Yoo!</h1>
    <p class="mb-4">I'm Spencer. I hack your average deep learning models.</p>
    <SocialList />
  </section>
  <section aria-label="Selected papers list" class="mt-16">
    <h2 class="mb-4 text-xl title">Papers</h2>
    <ul class="space-y-4 sm:space-y-2">
      {
        allPostsByDate.map((p) => (
          <li class="flex flex-wrap items-center gap-x-2 [&_q]:w-full">
            <BlogPostPreview post={p} as="h2" />
          </li>
        ))
      }
    </ul>
  </section>
  <section class="mt-16">
    <h2 class="mb-4 text-xl title">Misc</h2>
    <ul class="space-y-4 sm:space-y-2 list-disc list-inside">
      <li>
        ğŸ“ I am currently a PhD Student at <a
          href="https://cst.bit.edu.cn/"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block cactus-link">Beijing Institute of Technology</a
        >.
      </li>
      <li>
        ğŸ“’ï¸ I used to have a blog <a
          href="https://spwo.notion.site/7021cba3b8a04865850473d4037762ad"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block cactus-link">on Notion</a
        >, if you are wondering about where that went.
      </li>
      <li>
        ğŸ““ Papers listed here are curated - not an exhausive enumeration. *First
        author works are starred. Feel free to check my <a
          href="https://scholar.google.com/citations?user=Mf-JoyQAAAAJ"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block cactus-link">Google Scholar</a
        > for more of my research.
      </li>
      <li>
        ğŸ“ I main <a
          href="https://genshin-impact.fandom.com/wiki/Hu_Tao"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-block cactus-link">Hu Tao</a
        > ;)
      </li>
    </ul>
  </section>
</PageLayout>
